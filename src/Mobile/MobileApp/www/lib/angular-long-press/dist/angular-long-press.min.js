!function(){"use strict";angular.module("pr.longpress",[]).directive("onLongPress",["$parse","$timeout",function(n,e){return{restrict:"A",link:function(o,t,r){function s(t){var s=n(r.onLongPress);t.touches&&(l=t.touches[0].screenY,p=t.touches[0].screenX),e.cancel(a),o.longPressSent=!1,a=e(function(){o.longPressSent=!0,o.$apply(function(){s(o,{$event:t})})},d)}function c(t){var s=n(r.onTouchEnd);e.cancel(a),r.onTouchEnd&&o.$apply(function(){s(o,{$event:t})})}function i(n){!o.longPressSent||r.preventClick&&"true"!==r.preventClick||(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())}function u(n){var o=n.touches[0].screenY,t=n.touches[0].screenX;(void 0!==l&&void 0!==p&&Math.abs(o-l)>g||Math.abs(t-p)>g)&&e.cancel(a)}var a,l,p,d=!isNaN(r.longPressDuration)&&parseInt(r.longPressDuration)||600,v=r.preventOnscrolling?"true"===r.preventOnscrolling:!0,g=15;t.bind("touchstart",s),t.bind("touchend",c),t.bind("mousedown",s),t.bind("mouseup",c),t.bind("click",i),t.bind("pointerdown",s),t.bind("pointerup",c),v&&t.bind("touchmove",u)}}}])}();